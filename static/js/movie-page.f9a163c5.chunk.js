(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[4],{105:function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}r.r(e),r.d(e,"default",(function(){return _}));var u=r(56),o=r.n(u),i=r(67),s=r(57),p=r(55),l=r(0),b=r(3),f=r(97),h=r.n(f),m=r(1);function j(t){var e=t.onSubmit,r=Object(l.useState)(""),n=Object(p.a)(r,2),a=n[0],c=n[1];return Object(m.jsx)("header",{className:h.a.Searchbar,children:Object(m.jsxs)("form",{className:h.a.SearchForm,onSubmit:function(t){t.preventDefault(),e(a)},children:[Object(m.jsx)("button",{type:"submit",className:h.a.SearchForm_button,children:Object(m.jsx)("span",{className:h.a.SearchForm_button_label,children:"Search"})}),Object(m.jsx)("input",{className:h.a.SearchForm_input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(t){c(t.target.value)}})]})})}var v=r(14),d=r(54),O=r(68);function _(){var t=Object(b.h)(),e=Object(b.g)(),r=Object(l.useState)(""),n=Object(p.a)(r,2),a=n[0],u=n[1],f=Object(l.useState)(!1),h=Object(p.a)(f,2),_=h[0],g=h[1],x=Object(l.useState)(1),S=Object(p.a)(x,2),y=S[0],w=S[1],L=Object(l.useState)([]),k=Object(p.a)(L,2),B=k[0],F=k[1],I=Object(l.useState)(null),N=Object(p.a)(I,2),M=N[0],P=N[1],C=new URLSearchParams(t.search).get("query");Object(l.useEffect)((function(){C&&function(){var t=Object(s.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,g(!0),t.next=4,Object(d.e)(C,y);case 4:e=t.sent,F((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})),0===e.length&&P("Try to look for something \ud83d\udd0d"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),P("Whoops, something went wrong. Enter your request again");case 12:return t.prev=12,y>1&&D(),g(!1),t.finish(12);case 16:case"end":return t.stop()}}),t,null,[[0,9,12,16]])})));return function(){return t.apply(this,arguments)}}()()}),[C,y]);var D=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(j,{onSubmit:function(r){""!==r&&e.push(c(c({},t),{},{search:"query=".concat(r)})),r!==a&&(F([]),u(r),w(1),P(null))}}),_&&Object(m.jsx)(v.a,{}),M&&Object(m.jsx)("p",{children:M}),B.length>0&&!M&&Object(m.jsx)(O.a,{collection:B,actionButton:function(){return w(y+1)},titleButton:"Load more"})]})}},54:function(t,e,r){"use strict";r.d(e,"f",(function(){return i})),r.d(e,"e",(function(){return s})),r.d(e,"b",(function(){return p})),r.d(e,"a",(function(){return l})),r.d(e,"c",(function(){return b})),r.d(e,"d",(function(){return f}));var n=r(56),a=r.n(n),c=r(57),u=r(63),o=r.n(u);o.a.defaults.baseURL="https://api.themoviedb.org/3",o.a.defaults.params={api_key:"9d93a8874ece78649883bfc9efe0c649",language:"en-US"};var i=function(){var t=Object(c.a)(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.get("/trending/movie/day",{params:{page:e}});case 3:return r=t.sent,n=r.data,t.abrupt("return",n.results);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",[]);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=Object(c.a)(a.a.mark((function t(e,r){var n,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.get("/search/movie",{params:{query:e,page:r}});case 3:return n=t.sent,c=n.data,t.abrupt("return",c.results);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",[]);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,r){return t.apply(this,arguments)}}(),p=function(){var t=Object(c.a)(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.get("/movie/".concat(e));case 3:return r=t.sent,n=r.data,t.abrupt("return",n);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",[]);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(c.a)(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.get("/movie/".concat(e,"/credits"));case 3:return r=t.sent,n=r.data,t.abrupt("return",n.cast);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",[]);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=Object(c.a)(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.get("/movie/".concat(e,"/reviews"));case 3:return r=t.sent,n=r.data,t.abrupt("return",n.results);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",[]);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(c.a)(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.get("/movie/".concat(e,"/videos"));case 3:return r=t.sent,n=r.data,t.abrupt("return",n.results);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",[]);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},58:function(t,e,r){"use strict";e.a=r.p+"static/media/BasicImage.4dda33b2.jpg"},59:function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));r(0);var n=r(60),a=r.n(n),c=r(1),u=function(t){var e=t.action,r=t.title;return Object(c.jsx)("button",{className:a.a.Button,onClick:e,title:r,children:"".concat(r)})}},60:function(t,e,r){t.exports={Button:"Button_Button__3eJ27"}},65:function(t,e,r){t.exports={MovieListItem:"ListItem_MovieListItem__3nJlN",Link:"ListItem_Link__3xxbd",MovieListItem_image:"ListItem_MovieListItem_image__1oJGw",MovieListTitle:"ListItem_MovieListTitle__2MXr9"}},66:function(t,e,r){t.exports={List:"List_List__2Si8G",Container:"List_Container__3FgsA"}},67:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var n=r(61);var a=r(62);function c(t){return function(t){if(Array.isArray(t))return Object(n.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(a.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},68:function(t,e,r){"use strict";r.d(e,"a",(function(){return f}));r(0);var n=r(3),a=r(9),c=r(65),u=r.n(c),o=r(58),i=r(1),s=function(t){var e=t.collection,r=Object(n.h)();return e.map((function(t){return Object(i.jsx)("li",{className:u.a.MovieListItem,children:Object(i.jsxs)(a.b,{className:u.a.Link,to:{pathname:"/movies/".concat(t.id),state:{from:r}},children:[Object(i.jsx)("img",{src:t.backdrop_path?"https://image.tmdb.org/t/p/w500"+t.backdrop_path:o.a,alt:t.title,className:u.a.MovieListItem_image}),Object(i.jsx)("p",{className:u.a.MovieListTitle,children:t.title})]})},t.id)}))},p=r(59),l=r(66),b=r.n(l),f=function(t){var e=t.collection,r=t.actionButton,n=t.titleButton;return Object(i.jsxs)("div",{className:b.a.Container,children:[Object(i.jsx)("ul",{className:b.a.List,children:Object(i.jsx)(s,{collection:e})}),e.length>11&&Object(i.jsx)(p.a,{action:r,title:n})]})}},97:function(t,e,r){t.exports={Searchbar:"SearchBar_Searchbar__1jjit",SearchForm:"SearchBar_SearchForm__1kBjh",SearchForm_button:"SearchBar_SearchForm_button__3c0BR",SearchForm_button_label:"SearchBar_SearchForm_button_label__14_Wj",SearchForm_input:"SearchBar_SearchForm_input__2DLMJ"}}}]);
//# sourceMappingURL=movie-page.f9a163c5.chunk.js.map