(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{16:function(e,t,n){e.exports={Searchbar:"SearchBar_Searchbar__1jjit",SearchForm:"SearchBar_SearchForm__1kBjh",SearchForm_button:"SearchBar_SearchForm_button__3c0BR",SearchForm_button_label:"SearchBar_SearchForm_button_label__14_Wj",SearchForm_input:"SearchBar_SearchForm_input__2DLMJ"}},18:function(e,t,n){e.exports={link:"Navigation_link__2tBVP",activeLink:"Navigation_activeLink__3oWAN Navigation_link__2tBVP"}},19:function(e,t,n){e.exports={MovieListItem:"ListItem_MovieListItem__3nJlN",Link:"ListItem_Link__3xxbd",MovieListItem_image:"ListItem_MovieListItem_image__1oJGw",MovieListTitle:"ListItem_MovieListTitle__2MXr9"}},25:function(e,t,n){e.exports={List:"List_List__2Si8G",Container:"List_Container__3FgsA"}},37:function(e,t,n){e.exports={container:"Container_container__JJzct"}},40:function(e,t,n){e.exports={header:"Appbar_header__1wZDZ"}},41:function(e,t,n){e.exports={Button:"Button_Button__3eJ27"}},43:function(e,t,n){e.exports={Loader:"Loader_Loader__3eK1E"}},48:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(36),i=n.n(a),s=n(7),o=(n(48),n(4)),u=n(37),j=n.n(u),l=n(0);function b(e){var t=e.children;return Object(l.jsx)("div",{className:j.a.container,children:t})}var h=n(18),O=n.n(h),p=function(){return Object(l.jsxs)("nav",{children:[Object(l.jsx)(s.c,{exact:!0,to:"/",className:O.a.link,activeClassName:O.a.activeLink,children:"Home"}),Object(l.jsx)(s.c,{to:"/movies",className:O.a.link,activeClassName:O.a.activeLink,children:"Movies"})]})},d=n(40),m=n.n(d);function v(){return Object(l.jsx)("header",{className:m.a.header,children:Object(l.jsx)(p,{})})}var f=n(6),x=n.n(f),g=n(15),_=n(12),w=n(2),S=n(13),y=n.n(S);y.a.defaults.baseURL="https://api.themoviedb.org/3",y.a.defaults.params={api_key:"9d93a8874ece78649883bfc9efe0c649",language:"en-US"};var k=function(){var e=Object(_.a)(x.a.mark((function e(t){var n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("/trending/movie/day",{params:{page:t}});case 3:return n=e.sent,c=n.data,e.abrupt("return",c.results);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(_.a)(x.a.mark((function e(t,n){var c,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("/search/movie",{params:{query:t,page:n}});case 3:return c=e.sent,r=c.data,e.abrupt("return",r.results);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),F=function(){var e=Object(_.a)(x.a.mark((function e(t){var n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("/movie/".concat(t));case 3:return n=e.sent,c=n.data,e.abrupt("return",c);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(_.a)(x.a.mark((function e(t){var n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("/movie/".concat(t,"/credits"));case 3:return n=e.sent,c=n.data,e.abrupt("return",c.cast);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(_.a)(x.a.mark((function e(t){var n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("/movie/".concat(t,"/reviews"));case 3:return n=e.sent,c=n.data,e.abrupt("return",c.results);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(_.a)(x.a.mark((function e(t){var n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("/movie/".concat(t,"/videos"));case 3:return n=e.sent,c=n.data,e.abrupt("return",c.results);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),E=n(19),M=n.n(E),C=n.p+"static/media/BasicImage.4dda33b2.jpg",q=function(e){var t=e.collection,n=Object(o.g)();return t.map((function(e){return Object(l.jsx)("li",{className:M.a.MovieListItem,children:Object(l.jsxs)(s.b,{className:M.a.Link,to:{pathname:"/movies/".concat(e.id),state:{from:n}},children:[Object(l.jsx)("img",{src:e.backdrop_path?"https://image.tmdb.org/t/p/w500"+e.backdrop_path:C,alt:e.title,className:M.a.MovieListItem_image}),Object(l.jsx)("p",{className:M.a.MovieListTitle,children:e.title})]})},e.id)}))},T=n(41),W=n.n(T),J=function(e){var t=e.action,n=e.title;return Object(l.jsx)("button",{className:W.a.Button,onClick:t,title:n,children:"".concat(n)})},A=n(25),R=n.n(A),G=function(e){var t=e.collection,n=e.actionButton;return Object(l.jsxs)("div",{className:R.a.Container,children:[Object(l.jsx)("ul",{className:R.a.List,children:Object(l.jsx)(q,{collection:t})}),t.length>11&&Object(l.jsx)(J,{action:n,title:"Load more"})]})},U=n(42),D=n.n(U),H=n(43),P=n.n(H),V=function(){return Object(l.jsx)(D.a,{className:P.a.Loader,type:"Rings",color:"#00FA9A",height:800,width:900,timeout:3e3})};function Z(){var e=Object(c.useState)([]),t=Object(w.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(null),i=Object(w.a)(a,2),s=i[0],o=i[1],u=Object(c.useState)(1),j=Object(w.a)(u,2),b=j[0],h=j[1],O=Object(c.useState)(!1),p=Object(w.a)(O,2),d=p[0],m=p[1];Object(c.useEffect)((function(){(function(){var e=Object(_.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,k(b);case 4:t=e.sent,r((function(e){return[].concat(Object(g.a)(e),Object(g.a)(t))})),0===t.length&&o("There are no trend movies"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),o("Whoops, something went wrong. Enter your request again");case 12:return e.prev=12,b>1&&v(),m(!1),e.finish(12);case 16:case"end":return e.stop()}}),e,null,[[0,9,12,16]])})));return function(){return e.apply(this,arguments)}})()()}),[b]);var v=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return Object(l.jsxs)(l.Fragment,{children:[d&&Object(l.jsx)(V,{}),s&&Object(l.jsx)("p",{children:s}),n.length>0&&!s&&Object(l.jsx)(G,{collection:n,actionButton:function(){return h(b+1)}})]})}var z=n(26),K=n(16),X=n.n(K);function Y(e){var t=e.onSubmit,n=Object(c.useState)(""),r=Object(w.a)(n,2),a=r[0],i=r[1];return Object(l.jsx)("header",{className:X.a.Searchbar,children:Object(l.jsxs)("form",{className:X.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(a)},children:[Object(l.jsx)("button",{type:"submit",className:X.a.SearchForm_button,children:Object(l.jsx)("span",{className:X.a.SearchForm_button_label,children:"Search"})}),Object(l.jsx)("input",{className:X.a.SearchForm_input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){i(e.target.value)}})]})})}function Q(){var e=Object(o.g)(),t=Object(o.f)(),n=Object(c.useState)(""),r=Object(w.a)(n,2),a=r[0],i=r[1],s=Object(c.useState)(!1),u=Object(w.a)(s,2),j=u[0],b=u[1],h=Object(c.useState)(1),O=Object(w.a)(h,2),p=O[0],d=O[1],m=Object(c.useState)([]),v=Object(w.a)(m,2),f=v[0],S=v[1],y=Object(c.useState)(null),k=Object(w.a)(y,2),F=k[0],N=k[1];console.log(e),console.log("history",t);var B=new URLSearchParams(e.search).get("query");Object(c.useEffect)((function(){B&&function(){var e=Object(_.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),e.next=4,L(B,p);case 4:t=e.sent,S((function(e){return[].concat(Object(g.a)(e),Object(g.a)(t))})),0===t.length&&N("Try to look for something \ud83d\udd0d"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),N("Whoops, something went wrong. Enter your request again");case 12:return e.prev=12,p>1&&I(),b(!1),e.finish(12);case 16:case"end":return e.stop()}}),e,null,[[0,9,12,16]])})));return function(){return e.apply(this,arguments)}}()()}),[B,p]);var I=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Y,{onSubmit:function(n){""!==n&&t.push(Object(z.a)(Object(z.a)({},e),{},{search:"query=".concat(n)})),n!==a&&(S([]),i(n),d(1),N(null))}}),j&&Object(l.jsx)(V,{}),F&&Object(l.jsx)("p",{children:F}),f.length>0&&!F&&Object(l.jsx)(G,{collection:f,actionButton:function(){return d(p+1)}})]})}function $(){return Object(l.jsx)("h1",{children:"Opppps \u3064 \u25d5_\u25d5\u0f3d\u3064 try something other"})}var ee=function(e){var t=e.movie,n=Object(o.g)(),c=Object(o.f)(),r=t.title,a=t.poster_path,i=t.release_date,s=t.overview,u=t.genres,j=t.popularity;console.log(n.state);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(J,{onClick:function(){var e,t;c.push(null!==(e=null===n||void 0===n||null===(t=n.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/")},title:"\u27fd Go back"}),Object(l.jsx)("div",{children:Object(l.jsx)("img",{src:a?"https://image.tmdb.org/t/p/w500"+a:C,alt:r})}),Object(l.jsxs)("div",{children:[Object(l.jsxs)("h2",{children:[r," (",i.slice(0,4),")"]}),Object(l.jsxs)("p",{children:["User Score: ",Math.round(j),"%"]}),Object(l.jsx)("h3",{children:"Overview"}),Object(l.jsx)("p",{children:s}),Object(l.jsx)("h4",{children:"Genres"}),Object(l.jsx)("ul",{children:u.map((function(e){return Object(l.jsx)("li",{children:e.name},e.id)}))})]})]})},te=n.p+"static/media/Actor.a86b76dc.jpg",ne=function(e){var t=e.actors;return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("ul",{children:t.map((function(e){return Object(l.jsxs)("li",{children:[Object(l.jsx)("img",{src:e.profile_path?"https://image.tmdb.org/t/p/w500"+e.profile_path:te,alt:e.name}),Object(l.jsx)("p",{children:e.name}),Object(l.jsx)("p",{children:e.character})]},e.id)}))})})};function ce(){var e=Object(o.h)().movieId,t=Object(c.useState)([]),n=Object(w.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(null),s=Object(w.a)(i,2),u=s[0],j=s[1],b=Object(c.useState)(!1),h=Object(w.a)(b,2),O=h[0],p=h[1];return Object(c.useEffect)((function(){p(!0),N(e).then((function(e){a(e)})).catch((function(e){j("Whoops, something went wrong. Enter your request again")})).finally((function(){p(!1)}))}),[e]),Object(l.jsxs)(l.Fragment,{children:[O&&Object(l.jsx)(V,{}),u&&Object(l.jsx)("p",{children:u}),r&&Object(l.jsx)(ne,{actors:r})]})}var re=function(e){var t=e.reviews;return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("ul",{children:t.map((function(e){return Object(l.jsxs)("li",{children:[Object(l.jsx)("p",{children:e.author}),Object(l.jsx)("p",{children:e.content})]},e.id)}))})})};function ae(){var e=Object(o.h)().movieId,t=Object(c.useState)([]),n=Object(w.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(null),s=Object(w.a)(i,2),u=s[0],j=s[1],b=Object(c.useState)(!1),h=Object(w.a)(b,2),O=h[0],p=h[1];return Object(c.useEffect)((function(){p(!0),B(e).then((function(e){0===e.length&&j("We don`t have any reviews for this movie."),a(e)})).catch((function(e){j("Whoops, something went wrong. Enter your request again")})).finally((function(){p(!1)}))}),[e]),Object(l.jsxs)(l.Fragment,{children:[O&&Object(l.jsx)(V,{}),u&&Object(l.jsx)("p",{children:u}),r&&Object(l.jsx)(re,{reviews:r})]})}var ie=function(e){var t=e.trailer;return Object(l.jsx)("ul",{children:t.map((function(e){var t=e.key;return Object(l.jsx)("li",{children:Object(l.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/".concat(t),title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"})},t)}))})};function se(){var e=Object(o.h)().movieId,t=Object(c.useState)([]),n=Object(w.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(null),s=Object(w.a)(i,2),u=s[0],j=s[1],b=Object(c.useState)(!1),h=Object(w.a)(b,2),O=h[0],p=h[1];return Object(c.useEffect)((function(){p(!0),I(e).then((function(e){a(e)})).catch((function(e){j("Whoops, something went wrong. Enter your request again")})).finally((function(){p(!1)}))}),[e]),Object(l.jsxs)(l.Fragment,{children:[O&&Object(l.jsx)(V,{}),u&&Object(l.jsx)("p",{children:u}),r&&Object(l.jsx)(ie,{trailer:r})]})}var oe=function(){var e=Object(o.i)(),t=e.url,n=e.path;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:Object(l.jsx)(s.c,{to:"".concat(t,"/cast"),children:"Cast"})}),Object(l.jsx)("li",{children:Object(l.jsx)(s.c,{to:"".concat(t,"/reviews"),children:"Reviews"})}),Object(l.jsx)("li",{children:Object(l.jsx)(s.c,{to:"".concat(t,"/trailer"),children:"Trailer"})})]}),Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{path:"".concat(n,"/cast"),children:Object(l.jsx)(ce,{})}),Object(l.jsx)(o.a,{path:"".concat(n,"/reviews"),children:Object(l.jsx)(ae,{})}),Object(l.jsx)(o.a,{path:"".concat(n,"/trailer"),children:Object(l.jsx)(se,{})})]})]})};function ue(){var e=Object(o.h)().movieId,t=Object(c.useState)(null),n=Object(w.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(null),s=Object(w.a)(i,2),u=s[0],j=s[1],b=Object(c.useState)(!1),h=Object(w.a)(b,2),O=h[0],p=h[1];return Object(c.useEffect)((function(){p(!0),F(e).then((function(e){a(e)})).catch((function(e){j("Whoops, something went wrong. Enter your request again")})).finally((function(){p(!1)}))}),[e]),Object(l.jsxs)(l.Fragment,{children:[O&&Object(l.jsx)(V,{}),u&&Object(l.jsx)("p",{children:u}),r&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(ee,{movie:r}),Object(l.jsx)(oe,{})]})]})}var je=function(){return Object(l.jsxs)(b,{children:[Object(l.jsx)(v,{}),Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{path:"/",exact:!0,children:Object(l.jsx)(Z,{})}),Object(l.jsx)(o.a,{path:"/movies",exact:!0,children:Object(l.jsx)(Q,{})}),Object(l.jsx)(o.a,{path:"/movies/:movieId",children:Object(l.jsx)(ue,{})}),Object(l.jsx)(o.a,{children:Object(l.jsx)($,{})})]})]})};i.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(s.a,{children:Object(l.jsx)(je,{})})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.8b1ffb0a.chunk.js.map